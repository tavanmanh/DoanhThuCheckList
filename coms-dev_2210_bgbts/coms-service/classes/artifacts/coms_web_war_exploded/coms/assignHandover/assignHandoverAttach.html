<!-- VietNT_27112018_start -->
<style>
    .k-button.k-upload-button:hover {
        background-color: silver !important;
    }

    .k-header {
        border-color: #fff !important;
    }

    .k-button.k-upload-button {
        width: 100%;
        border: 1px solid;
        margin-left: 0px;
        text-weight: strong;
    }

    .guide {
        text-align: center;

    }

    .col-md-10 {
        padding-left: 16px;
        padding-right: 8px;
    }

    .k-upload-files, .k-upload-status {
        display: none;
    }
</style>

<div id="assignHandoverAttach">
<form class="form-horizontal row" role="form" name="shipment"
      id="shipment" kendo-validator="validator" k-options="validatorOptions">
    <div class="portlet light" style="height: 255px;">
        <!-- 
        <div class="portlet-title background-title">
            <div class="caption">
                <span class="caption-subject bold lowercase ng-scope" translate="">Import từ Excel</span>
            </div>
        </div>
         -->

        <div class="portlet light">
            <div class="portlet-title background-title">
                <div class="caption">
				<span class="caption-subject bold lowercase ng-scope" translate="">Danh
					sách file đính kèm</span>
                </div>
                <div class="text-right margin-row-title">
                    <i data-toggle="collapse" data-target="#upload"
                       class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </div>
            </div>
            <div id="upload"
                 class="portlet light bordered collapse in from-search">
                <div>
                    <div id="upload2" class="portlet light  collapse in from-search">
                        <div>
                            <div>
                                <center>Kéo thả các file vào đây hoặc click để chọn file
                                </center>
                            </div>
                            <div class="clearfix">
                                <div class="form-group col-md-12">
                                    <div class="col-md-12 k-content">
                                        <input class="col-md-12" name="attachfileEdit" id="attachfileEdit"
                                               k-select="caller.submitAttachFileEdit" type="file"
                                               list-file-type="doc,docx,pdf"/>

                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <center>
								<span style="color: gray">Dung lượng &#60;&#61; 100MB,
									định dạng doc,docx,pdf</span>
                                </center>
                                <div class="clearfix">
                                    <div id="attachFileEditGrid" kendo-grid="caller.attachFileEditGrid"
                                         k-options="caller.attachFileEditGridOptions" k-editable="false"
                                         k-on-change="onGridChange(kendoEvent, { selected: selected }, data)"></div>
                                </div>
                                <script>
                                    $(document).ready(
                                        function () {
                                            var caller = angular
                                                .element(document.getElementById('assignHandoverAttach'))
                                                .scope().caller;
                                            var urlUpload = window.location.protocol
                                                + '//'
                                                + window.location.hostname
                                                + ':'
                                                + window.location.port;

                                            //caller.refreshGrid(caller.attachFileEditGrid, caller.fileLst);

                                            function onSuccess(data) {
                                                caller.callback(data);
                                            }

                                            //	setTimeout(function(){
                                            $("#attachfileEdit").kendoUpload(
                                                {
                                                    async: {
                                                        /* saveUrl : urlUpload
                                                                + API_URL
                                                                + "fileservice/uploadATTT", */
                                                        removeUrl: urlUpload
                                                            + API_URL
                                                            + "fileservice/removeFileUpload",
                                                        /* autoUpload : true */

                                                    },
                                                    select: caller.submitAttachFileEdit,
                                                    validation: {
                                                        allowedExtensions: [".doc", ".docx", ".pdf"]
                                                    },
                                                    success: onSuccess,
                                                    localization: {
                                                        uploadSelectedFiles: "Chọn tệp"
                                                    },
                                                    multiple: false
                                                });
                                        });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer" align="right">
            <button type="button" id="saveData"
                    class="btn btn-qlk padding-search-right btn pull-right saveQLK"
                    ng-click="caller.uploadAttachEdit()" translate>Ghi lại
            </button>
            <button type="button" id="cancel"
                    class="btn btn-qlk padding-search-right margin_right10 closeQLK btn pull-right"
                    ng-click="caller.cancel()" translate>Hủy bỏ
            </button>
        </div>

        <!--<div class="clearfix form-actions margin-top">-->
            <!--<div class="row">-->
                <!--<div class="col-md-12 text-right" style="padding-right:0px; padding-top:5px;">-->
                    <!--<button type="button" class="btn btn-qlk padding-search-right closeQLK" id="cancel"-->
                            <!--ng-click="caller.cancel()" translate>Hủy bỏ-->
                    <!--</button>-->
                    <!--<button ng-disabled="caller.disableSubmit" type="button" id="savepopupApp"-->
                            <!--class="btn btn-qlk padding-search-right saveQLK" ng-click="caller.uploadAttachEdit()"-->
                            <!--translate>Ghi lại-->
                    <!--</button>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->

    </div>
</form>
</div>

<style>
    .loadersmall {
        border: 5px solid #f3f3f3 !important;
        -webkit-animation: spin 0.4s linear infinite !important;
        animation: spin 0.4s linear infinite !important;
        border-top: 2px solid #555 !important;
        border-radius: 50% !important;
        width: 30px !important;
        height: 30px !important;
    }

    @-webkit-keyframes spin {
        0% {
            -webkit-transform: rotate(0deg);
        }
        100% {
            -webkit-transform: rotate(360deg);
        }
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    input {

    }
</style>
<!--VietNT_end-->
