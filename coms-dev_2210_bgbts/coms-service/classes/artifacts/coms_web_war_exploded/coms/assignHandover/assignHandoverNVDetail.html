<!--VietNT_20181218_create-->
<form class="form-horizontal padding-height-20" role="form">
    <div class="form-body">
        <div class="portlet light bordered">
            <div class="portlet-title background-title">
                <div class="caption">
                    <span class="caption-subject bold lowercase" translate>{{caller.detailLabel.headerBGMB}}</span>
                </div>
                <div class="text-right margin-row-title">
                    <i data-toggle="collapse" data-target="#TTPA"
                       class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </div>
            </div>

            <div id="TTPA" class="padding-width18 clearfix collapse in from-search">
                <div class="border-gray">
                    <!--row 1-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label" translate>{{caller.detailLabel.companyAssignDate}}</label>
                        <div class="col-md-2">
                            <label class="text-display" type="date"
                                   ng-bind="caller.parseDateType(caller.detail.companyAssignDate)"></label>
                            <!-- ng-bind="caller.detail.companyAssignDate"></label> -->
                        </div>

                        <label class="col-md-2 control-label custom-label" translate>{{caller.detailLabel.assignedSince}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.assignedSince"></label>
                        </div>
                    </div>

                    <!--row 2-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label"
                               translate>{{caller.detailLabel.departmentAssignDate}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.parseDateType(caller.detail.departmentAssignDate)"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label"
                               translate>{{caller.detailLabel.performentId}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.fullName"></label>
                        </div>
                    </div>

                    <!--row 3-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label"
                               translate>{{caller.detailLabel.receivedDate}}</label>
                        <div class="col-md-9">
                            <label class="text-display"
                                   ng-bind="caller.parseDateType(caller.detail.receivedDate)"></label>
                        </div>
                    </div>

                    <!--row 4-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label"
                               translate>{{caller.detailLabel.receivedObstructDate}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.parseDateType(caller.detail.receivedObstructDate)"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label"
                               translate>{{caller.detailLabel.receivedObstructContent}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.receivedObstructContent"></label>
                        </div>
                    </div>

                    <!--row 5-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label" translate>{{caller.detailLabel.receivedGoodsDate}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.parseDateType(caller.detail.receivedGoodsDate)"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label"
                               translate>{{caller.detailLabel.receivedGoodsContent}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.receivedGoodsContent"></label>
                        </div>
                    </div>

                    <!--row 6-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label"
                               translate>{{caller.detailLabel.columnHeight}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.detail.columnHeight"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label" translate>{{caller.detailLabel.houseTypeName}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.houseTypeName"></label>
                        </div>
                    </div>

                    <!--row 7-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label"
                               translate>{{caller.detailLabel.numCo}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.detail.numberCo"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label" translate>{{caller.detailLabel.groundingTypeName}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.groundingTypeName"></label>
                        </div>
                    </div>

                    <!--row 8-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label" translate>{{caller.detailLabel.haveWorkItemName}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.detail.haveWorkItemName"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label" translate>{{caller.detailLabel.totalLength}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.totalLength"></label>
                        </div>
                    </div>

                    <!--row 9-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label"
                               translate>{{caller.detailLabel.isFence}}</label>
                        <div class="col-md-2">
                            <input type="checkbox" class="text-display"
                                   ng-disabled="true"
                                   ng-checked="caller.detail.isFence===1"/>
                        </div>
                        <label class="col-md-2 control-label custom-label" translate>{{caller.detailLabel.hiddenImmediacy}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.hiddenImmediacy"></label>
                        </div>
                    </div>
                    <!--row 10-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label" translate>{{caller.detailLabel.cableInTank}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.detail.cableInTank"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label" translate>{{caller.detailLabel.cableInTankDrain}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.cableInTankDrain"></label>
                        </div>
                    </div>
                    <!--row 11-->
                    <div class="clearfix row-height">
                        <label class="col-md-3 control-label custom-label" translate>{{caller.detailLabel.plantColumns}}</label>
                        <div class="col-md-2">
                            <label class="text-display"
                                   ng-bind="caller.detail.plantColunms"></label>
                        </div>
                        <label class="col-md-2 control-label custom-label" translate>{{caller.detailLabel.availableColumns}}</label>
                        <div class="col-md-5">
                            <label class="text-display"
                                   ng-bind="caller.detail.availableColumns"></label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="portlet-title background-title" style="margin-top: 10px" ng-if="caller.detail.listImage.length > 0">
                <div class="caption">
                        <span class="caption-subject bold lowercase"
                              translate>{{caller.detailLabel.headerImages}}</span>
                </div>
                <div class="text-right margin-row-title">
                    <i data-toggle="collapse" data-target="#TTXL"
                       class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </div>
            </div>

            <div id="TTXL" class="padding-width18 clearfix collapse in from-search"
                 ng-if="caller.detail.listImage.length > 0">

                <div class="padding-width18" style="margin-bottom: 40px">
                    <div class="border-gray">
                        <div class="clearfix position-relative">
                            <div style="width: 500px; margin: auto;">
                                <img class="image-cus" style="max-width: 100%;height: auto" ng-click="caller.downloadImage()" 
                                     ng-src="data:image/jpeg;base64,{{caller.imageSelected.base64String}}">
                            </div>
                        </div>
                    </div>

                    <div class="border-gray">
                        <div class="clearfix position-relative">
                            <div ng-repeat="image in caller.detail.listImage">
                                <div class="wrap-image" ng-click="caller.changeImage(image)">
                                    <img class="image-cus" ng-src="data:image/jpg;base64,{{image.base64String}}">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--
            <div id="TTXL" class="padding-width18 clearfix collapse in from-search"
                 ng-if="caller.detail.listImage.length > 0">
                <div class="padding-width18">
                    <div class="border-gray">
                        <div class="clearfix position-relative">
                            <div>
                                <div style="width: 500px; margin: auto;">
                                    <img class="image-cus" style="max-width: 100%;height: auto"
                                         ng-src="data:image/jpg;base64,{{caller.imageSelected.base64String}}">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="padding-width18">
                    <div class="border-gray">
                        <div class="clearfix position-relative">
                            <div ng-repeat="image in caller.detail.listImage">
                                <div class="wrap-image" ng-click="caller.changeImage(image)">
                                    <img class="image-cus" ng-src="data:image/jpg;base64,{{image.base64String}}">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
             -->
        </div>
    </div>
</form>

<div class="modal-footer" style="z-index: 1" align="right">
    <button type="button"
            class="btn btn-qlk padding-search-right margin_right10 closeQLK"
            ng-click="caller.cancel()" translate>Đóng
    </button>
    <button type="button" id="assignPopupApp"
            style="width: 160px;"
            class="btn btn-qlk padding-search-right margin_right10 btnHandover"
            ng-hide="caller.detail.status === 0 || caller.detail.receivedStatus != 1"
            ng-click="caller.handoverPopup()" translate>Giao nhận BGMB
    </button>
    <span><i class="fa fa-building overBtn"></i></span>
    <button type="button" id="handoverPopupApp"
            style="width: 140px;"
            ng-hide="caller.detail.status === 0 || (caller.detail.receivedStatus != 2 && caller.detail.receivedStatus != 3)"
            class="btn btn-qlk padding-search-right margin_right10"
            ng-click="caller.openConsTaskPopup()" translate>Giao thi công
    </button>
</div>
<style>
    .text-display {
        margin-top: 6px;
        height: 18px;
        font-weight: bold;
    }

    .row-height {
        padding-bottom: 2px;
    }

    .custom-label {
        color: dimgrey;
        font-size: 12px;
    }

    .overBtn {
        color: #337ab7;
        position: relative;
        left: 28px;
        top: 4px;
        pointer-events: none;
        font-size: 19px;
    }
</style>