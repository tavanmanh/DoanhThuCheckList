<p class="text-brecum">{{vm.String}}</p>
<form class="form-horizontal row HeightForm" role="form" novalidate="">
    <div class="form-body">
        <div class="portlet light bordered">
            <div class="portlet-title background-title">
                <div class="caption">
							<span class="caption-subject bold lowercase" translate>Thông
								tin chung </span>
                </div>
                <div class="text-right margin-row-title">
                    <i ng-click="vm.cancelAdd()"
                       class="fa fa-times" aria-hidden="true"></i>
                </div>
            </div>
            <div id="flowBoxes" class="padding20">
                <div class="Left right  active" id="creImpReqBCone"
                     ng-click="vm.prevStep()">
                    <p class="acceptQLK postion-icon" id="creImpReqBCIconOne"></p>

                    <p class="width-80 ">1.&nbsp Nhập thông tin chung</p>
                </div>
                <div class="Left right " id="creImpReqBCtwo" ng-click="vm.nextStep2()">
                    <p class="declineQLK postion-icon" id="creImpReqBCIconTwo"></p>

                    <p class="width-80">2.&nbsp Chi tiết</p>
                </div>
            </div>
            <div ng-show="vm.tab1">
                <div class="clearfix">
                    <label class="col-md-1 control-label req" translate>Đơn vị</label>
                    <div class="col-md-3">
                        <div class="input-icon right ">
                            <i class="fa fa-search directive" ng-click="vm.openDepartmentChoose('dept')"></i>
                        </div>
                        <input kendo-auto-complete k-options="vm.deptOptions1"
                           ng-blur="vm.changeDataDept('dept')"
                           class=" form-control width100" type="text"
                           ng-model="vm.detailMonthPlan.sysGroupName" name="dept"
                           ng-change="vm.changeCodeName()"
                           onclick="reset_msg();" required
                           data-required-msg="Đơn vị không để trống"/>
                           <span id="msg" data-for='dvn1' class='k-invalid-msg'></span>
                        <div class="One_icon">
                            <i class="fa fa-times" aria-hidden="true"
                               ng-click="vm.cancelInputDept('dept')"></i>
                        </div>
                        <script>
                            function reset_msg() {
                                document.getElementById('msg').innerHTML = '';
                            }
                        </script>
                    </div>
                    <label class="col-md-1 control-label req" translate>Năm</label>

                    <div class="col-md-3">
                        <select kendo-drop-down-list id="year" style="width: 100%"
                                name="year" ng-model="vm.detailMonthPlan.year"
                                k-options="vm.yearDownListOptions" required
                                ng-change="vm.changeCodeName()"
                                data-required-msg="Năm không được để trống">
                        </select> <span data-for="type" class="k-invalid-msg"></span>
                    </div>

                    <label class="col-md-1 control-label req" translate>Tháng thực hiện</label>

                    <div class="col-md-3">
                        <select kendo-drop-down-list id="month" style="width: 100%"
                                name="year" ng-model="vm.detailMonthPlan.month"
                                k-options="vm.monthDownListOptions" required
                                ng-change="vm.changeCodeName()"
                                data-required-msg="Tháng không được để trống">
                        </select> <span data-for="type" class="k-invalid-msg"></span>
                    </div>
                </div>
                <div>
                    <label class="col-md-1 control-label req" translate>Mã
                        kế hoạch</label>

                    <div class="col-md-3">
                        <input id="code" name="code" class=" form-control width100" type="text"
                               maxlength="1000" ng-model="vm.detailMonthPlan.code"
                               placeholder="Nhập mã kế hoạch" required
                               data-required-msg="Mã kế hoạch không được để trống"/>
                                     <span style=" color: red;"
                                           ng-if="form.name.$invalid && !form.name.$pristine">Mã kế hoạch không được để trống</span>
                    </div>
                    <label class="col-md-1 control-label req" translate>Tên kế hoạch</label>

                    <div class="col-md-3">
                        <input id="name" name="name" class=" form-control width100" type="text"
                               maxlength="1000" ng-model="vm.detailMonthPlan.name"
                               placeholder="Nhập tên kế hoạch" required
                               data-required-msg="Tên không được để trống"/>
	                                 <span style=" color: red;"
                                           ng-if="form.name.$invalid && !form.name.$pristine">Tên kế hoạch không được để trống</span>
                    </div>
                </div>
            </div>
            <div ng-show="vm.tab2">
                <div data-ng-include="'coms/detailMonthPlan/tab2.html'"></div>
            </div>
        </div>
        <div ng-show="vm.tab3" style="margin: 5px 15px;">
            <div><p class="textDec">Thông tin chung</p></div>
            <div class="row border-gray" style="height: auto;">
                <label class="col-md-1">Tên kế hoạch:</label>
                <input class="col-md-2" type="text" style="border: none; background-color: white;" disabled
                       ng-model="vm.detailMonthPlan.name">
                <label class="col-md-1">Mã kế hoạch:</label>
                <input class="col-md-2" type="text" style="border: none; background-color: white;" disabled
                       ng-model="vm.detailMonthPlan.code">
                <label class="col-md-1">Tháng thực hiện:</label>
                <input class="col-md-2" type="text" style="border: none; background-color: white;" disabled
                       ng-model="vm.detailMonthPlan.month">
            </div>
            <div class="row"><p class="textDec">Kết luận</p></div>
            <div class="row border-gray" style="height: 280px;">
                <textarea class="textAreAddTotalMonth" maxlength="2000" ng-model="vm.detailMonthPlan.description"
                          disabled></textarea>
            </div>
            <div></div>
        </div>
    </div>
    <div class="bottonAdd">
        <div class="clearfix">
            <button ng-show="vm.tab2" type="button"
                    class="btn btn-qlk padding-search-right backQLK btn pull-righ"
                    ng-click="vm.prevStep()" translate>Trước
            </button>
            <button ng-show="vm.tab1" type="button" id="nextStep"
                    class="btn btn-qlk   padding-search-right btn pull-right  nextQLK"
                    ng-click="vm.nextStep2()" translate><span class="k-i-loading k-icon" style="font-size: 64px;">Tiếp
            </button>
            <button ng-show="vm.tab2" type="button"
                    class="btn btn-qlk padding-search-right btn pull-right nextQLK"ng-disabled="vm.disabled || vm.loadingSave"
                    ng-click="vm.save()" translate>Ghi lại
            </button>
            <button ng-show="vm.tab2" type="button"
                    class="btn btn-qlk padding-search-right margin_right10 closeQLK btn pull-right"
                    ng-click="vm.cancelAdd()" translate>Hủy bỏ
            </button>

        </div>
    </div>
</form>

<script type="text/javascript">

    $('#appIdSearch').keypress(function (event) {
        $("input").change(function () {
            $(this).val($.trim($(this).val()));
        });
        document.onkeydown = keyDown;
        function keyDown(e) {
            switch (e.keyCode) {
                case 27:
                    $("#cancel").click();
                    break;
                case 13:
                    if ($('.k-widget.k-window.fix-footer').css('display') !== 'block') {
                        $("#findParam").click();
                    }
                    break;

            }
        }
    });
</script>
			