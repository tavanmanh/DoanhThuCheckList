<div data-ng-controller="goodsPlanController as vm">
    <div ng-show="!vm.showDetail" style="clear: both;">
        <form class="form-horizontal row" role="form">

            <div class="form-body">
                    <!-- <div class="portlet-title background-title">
                        <div class="caption">
                            <span class="caption-subject bold lowercase" translate>ThÃ´ng tin tÃ¬m kiáº¿m </span>

                        </div>
                        <div class="text-right margin-row-title">
                            <i data-toggle="collapse" data-target="#constructionTask" class="fa fa-chevron-circle-up"
                                aria-hidden="true"></i>
                        </div>
                    </div> -->
                    <div id="goodsPlanPopupAdd" class="collapse in from-search">

                        <div class="clearfix position-relative">
                            <div class="clearfix">
                                <div class="form-group col-md-6">
                                    <label class="col-md-4 control-label req" translate>Mã kế hoạch</label>
                                    <div class="col-md-8">
                                        <input id="codePlan" class=" form-control width100" type="text"
                                            ng-model="caller.searchFormData.code" placeholder="Mã kế hoạch" required data-required-msg="Mã kế hoạch không được để trống" />
                                    </div>
                                </div>
                                <div class="form-group col-md-6">
                                    <label class="col-md-4 control-label req" translate>Tên kế hoạch</label>
                                    <div class="col-md-8">
                                        <input id="namePlan" class=" form-control width100" type="text" 
                                            ng-model="caller.searchFormData.name" placeholder="Tên kế hoạch" required data-required-msg="Tên kế hoạch không được để trống" />
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="clearfix position-relative">
                        	<div class="clearfix">
	                            <div class="form-group col-md-12">
	                                <label class="col-md-2 control-label req" translate="">Căn cứ</label>
	
	                                <div class="col-md-10">
	                                    <textarea id="baseContentPlan" class="form-control width100 ng-pristine ng-valid ng-touched" rows="5" ng-model="caller.searchFormData.baseContent"></textarea>
	                                </div>
	                            </div>
                        	</div>
                        </div>
                        <div class="clearfix position-relative">
	                        <div class="clearfix">
	                                <div class="form-group col-md-12">
	                                    <label class="col-md-2 control-label req" translate="">Thực hiện</label>
	    
	                                    <div class="col-md-10">
	                                        <textarea id="performContentPlan" class="form-control width100 ng-pristine ng-valid ng-touched" rows="5" ng-model="caller.searchFormData.performContent"></textarea>
	                                    </div>
	                                </div>
	                            </div>
                        </div>
                    </div> 
            </div>

        </form>
        
            <div>
            </div>
                <div class="clearfix position-relative">
                    <div id="retrievalGridOp" kendo-grid="vm.retrievalGridOp" k-options="vm.retrievalGridOptions1"></div>
                </div>

        <div class="clearfix form-actions margin-top">
                <div class="row">
                    <div class="col-md-12 text-right">
                        <button type="button" class="btn btn-qlk padding-search-right closeQLK" id="cancel" ng-click="caller.cancelPopup()" translate>Hủy bỏ</button>
                        <button type="button" id="save" ng-disabled="vm.isDisabled" class="btn btn-qlk padding-search-right saveQLK" ng-click="caller.save()" translate>Ghi lại</button>
                    </div>
                </div>
            </div>
        <script type="text/javascript">

            $('#retrievalGridOp').keypress(function (event) {
                $("input").change(function () {
                    $(this).val($.trim($(this).val()));
                });
                document.onkeydown = keyDown;
                function keyDown(e) {
                    switch (e.keyCode) {
                        case 27:
                            $("#cancel").click();
                            break;
                        case 13:
                            if ($('.k-widget.k-window.fix-footer').css('display') !== 'block') {
                                $("#goodsPlanPopupAdd").click();
                            }
                            break;

                    }
                }
            });
        </script>
    </div>
</div>