<style>
    ::placeholder {
        font-style: italic;
    }
    ::-moz-placeholder { /* Mozilla Firefox 4 to 18 */
        font-style: italic;
    }
    </style>
<p class="text-brecum">{{vm.String}}</p>
<form class="form-horizontal row " role="form" novalidate="">
    <div class="form-body">
        <div class="portlet light bordered">
            <div class="portlet-title background-title">
                <div class="caption">
							<span class="caption-subject bold lowercase" translate>{{vm.action}}</span>
                </div>
                <div class="text-right margin-row-title">
                    <i ng-click="vm.cancel()"
                       class="fa fa-times" aria-hidden="true"></i>
                </div>
            </div>
            <div id="flowBoxes" class="padding20">
                <div class="Left right  active" id="DivTab1TotalMonth"
                     ng-click="vm.prevStep()">
                    <p class="acceptQLK postion-icon" id="tab1TotalMonth"></p>

                    <p class="width-80 ">1.&nbsp Nhập thông tin chung</p>
                </div>
                <div class="Left right " id="DivTab2TotalMonth" ng-click="vm.nextStep2()">
                    <p class="declineQLK postion-icon" id="tab2TotalMonth"></p>

                    <p class="width-80">2.&nbsp Chi tiết kế hoạch tháng</p>
                </div>
                <div class="Left right " id="DivTab3TotalMonth" ng-click="vm.nextStep3()">
                    <p class="declineQLK postion-icon" id="tab3TotalMonth"></p>
 
                    <p class="width-80">3.&nbsp Kết luận</p>
                </div>
                <!-- 	<div class="Left right " id="creImpReqBCThere" ng-click="vm.nextStep()">
                        <p class="declineQLK postion-icon" id="creImpReqBCIconThere"></p>
                        <p class="width-80">3.Kết luận</p>
                    </div> -->
            </div>
            <div ng-show="vm.tab1">
                <div class="clearfix">
                    <label class="col-md-1 control-label req" translate>Năm</label>

                    <div class="col-md-3">
                        <select kendo-drop-down-list id="year" style="width: 100%"
                                class="text-right"
                                name="year" ng-model="vm.totalMonthPlan.year"
                                ng-change="vm.changeCodeName()"
                                k-options="vm.yearDownListOptions" required
                                data-required-msg="Năm không được để trống">
                        </select> <span data-for="type" class="k-invalid-msg"></span>
                    </div>

                    <label class="col-md-1 control-label req" translate>Tháng thực hiện</label>

                    <div class="col-md-3">
                        <select kendo-drop-down-list id="month" style="width: 100%"
                                class="text-right"
                                name="month" ng-model="vm.totalMonthPlan.month"
                                k-options="vm.monthDownListOptions" required
                                ng-change="vm.changeCodeName()"
                                data-required-msg="Tháng không được để trống">
                        </select> <span data-for="type" class="k-invalid-msg"></span>
                    </div>
                    <label class="col-md-1 control-label req" translate>Mã
                        kế hoạch</label>

                    <div class="col-md-3">
                        <input id="code" name="code" class=" form-control width100" type="text"
                               maxlength="1000" ng-model="vm.totalMonthPlan.code"
                               placeholder="Nhập mã kế hoạch" required
                               data-required-msg="Tên không được để trống"/>
	                                 <span style=" color: red;"
                                           ng-if="form.code.$invalid && !form.code.$pristine">Mã kế hoạch không được để trống</span>
                    </div>

                </div>
                <div>
                    <label class="col-md-1 control-label req" translate>Tên kế hoạch</label>

                    <div class="col-md-3">
                        <input id="name" name="name" class=" form-control width100" type="text"
                               maxlength="1000" ng-model="vm.totalMonthPlan.name"
                               placeholder="Nhập tên kế hoạch" required
                               data-required-msg="Tên không được để trống"/>
	                                 <span style=" color: red;"
                                           ng-if="form.name.$invalid && !form.name.$pristine">Tên kế hoạch không được để trống</span>
                    </div>
                </div>
            </div>
            <div ng-show="vm.tab2">
                <div data-ng-include="'coms/totalMonthPlan/tab2.html'"></div>
            </div>
        </div>
        <div ng-show="vm.tab3" style="margin: 5px 15px;">
            <div><p class="textDec bold">Thông tin chung</p></div>
            <div class="row border-gray" style="height: auto;">
                <label class="col-md-4">Tên kế hoạch: {{vm.totalMonthPlan.name}}</label>
                <label class="col-md-4">Mã kế hoạch: {{vm.totalMonthPlan.code}}</label>
                <label class="col-md-4">Tháng thực hiện: {{vm.totalMonthPlan.month}}/{{vm.totalMonthPlan.year}}</label>
            </div>
            <div><p class="textDec bold">Danh sách file đính kèm</p></div>
            <div class="">
                <div class="border-gray">
                    <div class="wrapper-input">
                        <center><span style="color:gray; margin: auto;">Dung lượng &#60;&#61; 100MB, định dạng xls, xlsx, docx, doc, pdf</span>
                        </center>
                        <div class="k-button k-upload-button">
                            <input class="file-input k-valid" name="fileVuong" type="file"
                                   kendo-upload="" id="fileVuong" tabindex="10" onchange="angular.element(this).scope().onSelectAttachFile()"
                                   data-role="upload" multiple="multiple" autocomplete="off">
                            <span >Kéo thả các file vào đây hoặc click để chọn file</span>
                        </div>
                    </div>
                    <div class="clearfix position-relative">
                        <div id="attachFileGrid"
                             kendo-grid="vm.attachFileGrid" k-editable="false"
                             k-options="vm.attachFileGridOptions">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row bold"><p class="textDec">Phân công nhiệm vụ</p></div>
            <div class="row border-gray" >
                <textarea class="textAreAddTotalMonth" ng-model="vm.totalMonthPlan.conclution" rows="5"
                          ></textarea>
            </div>
            <div></div>
        </div>
    </div>
    <div class="bottonAdd">
        <div class="clearfix">
            <button ng-show="vm.tab2" type="button"
                    class="btn btn-qlk padding-search-right backQLK btn pull-righ"
                    ng-click="vm.prevStep()" translate>Trước
            </button>
            <button ng-show="vm.tab3" type="button"
                    class="btn btn-qlk padding-search-right backQLK btn pull-righ"
                    ng-click="vm.nextStep2()" translate>Trước
            </button>
            <button ng-show="vm.tab1" type="button" id="nextStep"
                    class="btn btn-qlk   padding-search-right btn pull-right  nextQLK"
                    ng-click="vm.nextStep2()" translate>Tiếp
            </button>
            <button ng-show="vm.tab2" type="button" id="nextStep"
                    class="btn btn-qlk   padding-search-right btn pull-right  nextQLK"
                    ng-click="vm.nextStep3()" translate>Tiếp
            </button>
            <div class="pull-right">
                <div class="clearfix">
                    <button ng-show="vm.tab3" type="button"
                            class="btn btn-qlk padding-search-right margin_right10 closeQLK btn pull-left"
                            ng-click="vm.cancel()" translate>Hủy bỏ
                    </button>
                    <button ng-show="vm.tab3" type="button"
                            class="btn btn-qlk padding-search-right btn pull-right saveQLK"
                            ng-click="vm.save()" translate ng-disabled="vm.diss || vm.loadingSave">Ghi lại
                    </button>
                </div>
            </div>

        </div>
    </div>
</form>

<script type="text/javascript">

    $('#appIdSearch').keypress(function (event) {
        $("input").change(function () {
            $(this).val($.trim($(this).val()));
        });
        document.onkeydown = keyDown;
        function keyDown(e) {
            switch (e.keyCode) {
                case 27:
                    $("#cancel").click();
                    break;
                case 13:
                    if ($('.k-widget.k-window.fix-footer').css('display') !== 'block') {
                        $("#findParam").click();
                    }
                    break;

            }
        }
    });
</script>
			