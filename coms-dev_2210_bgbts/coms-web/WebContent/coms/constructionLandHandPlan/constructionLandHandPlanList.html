
<p class="text-brecum">{{vm.String}}</p>
<form class="form-horizontal row" role="form" >
    <div class="form-body">
        <div class="portlet light bordered">
            <div class="portlet-title background-title">
                <div class="caption">
							<span class="caption-subject bold lowercase" translate>Thông
								tin tìm kiếm </span>

                </div>
                <div class="text-right margin-row-title">
                    <i data-toggle="collapse" data-target="#demoapp"
                       class="fa fa-chevron-circle-up" aria-hidden="true"></i>
                </div>
            </div>
            <div id="demoapp" class="collapse in from-search">
                <div class="clearfix position-relative">
                    <div class="clearfix">
                        <div class="form-group col-md-6">
                            <label class="col-md-4 control-label" translate>Nội dung tìm kiếm</label>
                            <div class="col-md-8">
                                <input id="keySearch" class=" form-control width100" type="text"
                                       ng-model="vm.constructionLandHandPlanSearch.keySearch" placeholder="Tên kế hoạch/Mã trạm/Mã công trình"/>
                            </div>
                        </div>

                        <div class="form-group col-md-6">
                            <label class="col-md-4 control-label" translate>Ngày BG dự kiến từ ngày</label>
                            <div id="createdDate" class="col-md-3">
                                <!--<input kendo-date-picker date-time k-format="'dd/MM/yyyy'"
                                       ng-model="vm.constructionLandHandPlanSearch.createdDate" style="width: 100%;"
                                       min-year="1000" data-minyear-msg="Ngày tạo từ không hợp lệ"
                                       data-date-msg="Ngày tạo từ không hợp lệ"  date-time/>-->
                                <input kendo-date-picker k-format="'dd/MM/yyyy'" date-time
                                       id="date2" name="createdDate"
                                       ng-model="vm.constructionLandHandPlanSearch.fromDate"
                                       style="width: 100%;"  min-year="1000" data-minyear-msg="Ngày tạo từ không hợp lệ"
                                       ng-blur="validateDate(caller.constructionLandHandPlanSearch.fromDate,null,null,form.fromDate)"/>
                            </div>
                            <label class="col-md-2 control-label text-center" translate>Đến ngày</label>
                            <div id="endDate" class="col-md-3">
                                <!--<input kendo-date-picker date-time k-format="'dd/MM/yyyy'"
                                       ng-model="vm.constructionLandHandPlanSearch.endDate" style="width: 100%;"
                                       min-year="1000" data-minyear-msg="Ngày tạo từ không hợp lệ"
                                       data-date-msg="Ngày tạo từ không hợp lệ"  date-time/>-->
                                <input kendo-date-picker k-format="'dd/MM/yyyy'" date-time
                                       id="date3" name="endDate"
                                       ng-model="vm.constructionLandHandPlanSearch.toDate"
                                       style="width: 100%;"  min-year="1000" data-minyear-msg="Ngày tạo từ không hợp lệ"
                                       ng-blur="validateDate(caller.constructionLandHandPlanSearch.toDate,null,null,form.toDate)"/>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="form-group col-md-6">
                            <label class="col-md-4 control-label" translate>Tháng</label>
                            <div class="col-md-3">
                                <select kendo-drop-down-list id="month" style="width: 100%"
                                        name="month" ng-model="vm.constructionLandHandPlanSearch.month"
                                        k-options="vm.monthDownListOptions" required
                                        data-required-msg="Tháng không được để trống">
                                </select>
                                <div class="One_icon">
                                    <i class="fa fa-times" aria-hidden="true"
                                       ng-click="vm.cancelHandover('month')"></i>
                                </div>
                            </div>
                            <label class="col-md-2 control-label text-center" translate>Năm</label>
                            <div class="col-md-3">
                                <select kendo-drop-down-list id="year" style="width: 100%"
                                        name="year" ng-model="vm.constructionLandHandPlanSearch.year"
                                        k-options="vm.yearDownListOptions" required
                                        data-required-msg="Năm không được để trống">
                                </select> <span data-for="type" class="k-invalid-msg"></span>
                                <div class="One_icon">
                                    <i class="fa fa-times" aria-hidden="true"
                                       ng-click="vm.cancelHandover('year')"></i>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label class="col-md-4 control-label" translate>Đơn vị nhận bàn giao</label>
                            <div class="col-md-8" ng-enter="vm.doSearch()">
                                <div class="input-icon right ">
                                    <i class="fa fa-search directive"
                                       ng-click="vm.openDepartmentTo('dept1')"></i>
                                </div>
                                <input kendo-auto-complete k-options="vm.deprtOptions2"
                                       ng-blur="vm.changeDataAuto('dept1')"
                                       class=" form-control width100" type="text"
                                       ng-model="vm.constructionLandHandPlanSearch.sysGroupName" name="dept"
                                        /><span data-for="type" class="k-invalid-msg"></span>
                                <div class="One_icon">
                                    <i class="fa fa-times" aria-hidden="true"
                                       ng-click="vm.cancelInput('dept')"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix">
							<div class="form-group col-md-6">
								<label class="col-md-4 form-horizontal control-label " translate>Tỉnh</label>
								<div class="col-md-8">
									<div class="input-icon right ">
										<i class="fa fa-search directive" ng-click="vm.openCatProvincePopup()"></i>
									</div>
									<input kendo-auto-complete k-options="vm.provinceOptions" class=" form-control width100" type="text" id="provincename" ng-model="vm.constructionLandHandPlanSearch.catProvinceName" name="provincename" />
									<div class="One_icon">
										<i class="fa fa-times" aria-hidden="true" ng-click="vm.clearProvince()"></i>
									</div>
								</div>
							</div>
                    </div>
                    <div class="clearfix form-actions margin-top">
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <!-- <button type="button" id="find"
                                    class="btn green btn-outline padding-search-right"
                                    ng-click="vm.doSearch()" translate>Tìm kiếm</button> -->
                                <button type="button" id="findParam" ng-click="vm.doSearch()" class="btn btn-qlk padding-search-right searchQLK" translate>Tìm kiếm</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<div class="portlet light bordered">
    <div class="portlet-title background-title">
        <div class="caption">
			<span class="caption-subject bold lowercase" translate>Kết
					quả tìm kiếm:  </span>&nbsp;<label class="control-label bold lowercase" id="appCount">{{vm.count}}</label><label class="control-label bold lowercase">&nbsp;bản ghi</label>

        </div>
        <div class="text-right margin-row-title">
            <i data-toggle="collapse" data-target="#demoapp2"
               class="fa fa-chevron-circle-up" aria-hidden="true"></i>
        </div>
    </div>
    <div id="demoapp2" class="collapse in from-search">
        <div class="clearfix position-relative">
            <div id="constructionLandHandPlanGrid" kendo-grid="vm.constructionLandHandPlanGrid" k-editable="false"
                 k-options="vm.gridOptions"
                    ></div>
        </div>
    </div>
</div>
<script type="text/javascript">

    $('#appIdSearch').keypress(function(event){
        $("input").change(function(){
            $(this).val($.trim($(this).val()));
        });
        document.onkeydown= keyDown;
        function keyDown(e){
            switch(e.keyCode) {
                case 27:
                    $("#cancel").click();
                    break;
                case 13:
                    if($('.k-widget.k-window.fix-footer').css('display')!=='block'){
                        $("#findParam").click();
                    }
                    break;

            }
        }
    });
</script>
			