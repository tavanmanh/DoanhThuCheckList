<div>
    <div ng-show="!caller.showDetail" style="clear: both;">
        <form class="form-horizontal row" role="form">

            <div class="form-body">
                <!-- <div class="portlet-title background-title">
                        <div class="caption">
                            <span class="caption-subject bold lowercase" translate>Thông tin tìm kiếm </span>

                        </div>
                        <div class="text-right margin-row-title">
                            <i data-toggle="collapse" data-target="#constructionTask" class="fa fa-chevron-circle-up"
                                aria-hidden="true"></i>
                        </div>
                    </div> -->
                <div id="constructionTask" class="collapse in from-search">

                    <div class="clearfix position-relative">
                        <div class="clearfix">
                            <div class="form-group col-md-6">
                                <label class="col-md-4 form-horizontal control-label " translate>Đơn vị</label>
                                <div class="col-md-8">
                                    <div class="input-icon right ">
                                        <i class="fa fa-search directive" ng-click="caller.openDepartmentTo('dept')"></i>
                                    </div>
                                    <input kendo-auto-complete k-options="caller.deprtOptions1" ng-blur="caller.changeDataAuto('dept')"
                                        class=" form-control width100" type="text" ng-model="caller.searchForm.sysGroupName"
                                        name="dept" onclick="reset_msg();" required data-required-msg="Đơn vị không để trống" />
                                    <span id="msg" data-for='dvn1' class='k-invalid-msg'></span>
                                    <div class="One_icon">
                                        <i class="fa fa-times" aria-hidden="true" ng-click="caller.cancelInput('dept')"></i>
                                    </div>
                                    <script>
                                        function reset_msg() {
                                            document.getElementById('msg').innerHTML = '';
                                        }
                                    </script>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
								<label class="col-md-4 control-label" translate>Công trình</label>
									<div class="col-md-8">
									<div class="input-icon right ">
										<i class="fa fa-search directive" ng-click="caller.openComsConstructionPopup()"></i>
									</div>
									<input kendo-auto-complete k-options="caller.constructionOptions" class=" form-control width100" type="text" 
										id="constructionName" ng-model="caller.searchForm.constructionName" name="constructionName" />
									<div class="One_icon">
										<i class="fa fa-times" aria-hidden="true" ng-click="caller.clearConstruction1()"></i>
									</div>
								</div>
							</div>

                        </div>


                    </div>
                    <div class="clearfix">
                        <div class="form-group col-md-6">
                            <label class="col-md-4 form-horizontal control-label " translate>Hợp đồng</label>
                            <div class="col-md-8">
                                <div class="input-icon right ">
                                    <i class="fa fa-search directive" ng-click="caller.openContractOut()"></i>
                                </div>
                                <input kendo-auto-complete k-options="caller.patternContractOutOptions" class=" form-control width100"
                                    type="text" id="constructionType" ng-model="caller.searchForm.constructiontypename"
                                    name="constructionType" />
                                <div class="One_icon">
                                    <i class="fa fa-times" aria-hidden="true" ng-click="caller.clearConstructionType()"></i>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label class="col-md-4 control-label" translate>Ngày tạo : từ ngày</label>
                            <div class="col-md-8">
                                <div class="col-md-5 no-padding position-relative">
                                    <input kendo-date-picker k-format="'dd/MM/yyyy'" ng-model="caller.searchForm.dateFrom"
                                        style="width: 100%;" min-year="1000" date-time />
                                </div>
                                <div class="col-md-2" style="text-align: center;"><label class="control-label"
                                        translate>đến</label></div>
                                <div class="col-md-5 no-padding position-relative">
                                    <input kendo-date-picker k-format="'dd/MM/yyyy'" ng-model="caller.searchForm.dateTo"
                                        style="width: 100%;" min-year="1000" date-time />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix">
                        <div class="form-group col-md-6">
                            <label class="col-md-4 form-horizontal control-label " translate>Tỉnh</label>
                            <div class="col-md-8">
                                <div class="input-icon right ">
                                    <i class="fa fa-search directive" ng-click="caller.openCatProvincePopup()"></i>
                                </div>
                                <input kendo-auto-complete k-options="caller.provinceOptions" class=" form-control width100"
                                    type="text" id="provincename" ng-model="caller.searchForm.catProvinceName" name="provincename" />
                                <div class="One_icon">
                                    <i class="fa fa-times" aria-hidden="true" ng-click="caller.clearProvince()"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix form-actions margin-top">
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <button type="button" id="findParam" ng-click="vm.doSearchPopup()" class="btn btn-qlk padding-search-right searchQLK"
                                    translate>Tìm kiếm</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </form>

        <div>
            <!-- <div class="caption">
                    <label class="control-label bold lowercase" id="appCount">{{caller.count}}</label>

                </div> -->
        </div>
        <div class="clearfix position-relative">
            <div id="retrievalGrid" kendo-grid="caller.DSFgridOptions" k-options="caller.DSFgridOptions"></div>
        </div>

        <div class="clearfix form-actions margin-top">
            <div class="row">
                <div class="col-md-12 text-right">
                    <button type="button" class="btn btn-qlk padding-search-right closeQLK" id="cancel" ng-click="caller.cancelPopup1()"
                        translate>Hủy bỏ</button>
                    <button type="button" id="update" ng-disabled="caller.isDisabled" class="btn btn-qlk padding-search-right saveQLK"
                        ng-click="caller.saveCheck()" translate>Chọn</button>
                </div>
            </div>
        </div>
        <script type="text/javascript">

            $('#retrievalGrid').keypress(function (event) {
                $("input").change(function () {
                    $(this).val($.trim($(this).val()));
                });
                document.onkeydown = keyDown;
                function keyDown(e) {
                    switch (e.keyCode) {
                        case 27:
                            $("#cancel").click();
                            break;
                        case 13:
                            if ($('.k-widget.k-window.fix-footer').css('display') !== 'block') {
                                $("#constructionTask").click();
                            }
                            break;

                    }
                }
            });
        </script>
    </div>
    <!-- <div ng-show="caller.showDetail" style="clear: both;">
        <div data-ng-include="'coms/manufacturingVT/retrievalManagementAddNew.html'"></div>
    </div> -->
</div>